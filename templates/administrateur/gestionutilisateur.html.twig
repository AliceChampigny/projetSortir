{% extends 'base.html.twig' %}

{% block body %}


    <h2>Gestion des utilisateurs</h2>

        <h3>Inscrire un utilisateur</h3>
        <form method="post" action="#" class="feed-form2">

            {{ form_start(registrationForm) }}

            {{ form_row(registrationForm.nom) }}
            {{ form_row(registrationForm.prenom) }}
            {{ form_row(registrationForm.pseudo) }}

            {{ form_row(registrationForm.email) }}
            {{ form_row(registrationForm.telephone) }}
            {{ form_row(registrationForm.campus) }}

            {{ form_row(registrationForm.plainPassword.first) }}
            {{ form_row(registrationForm.plainPassword.second) }}


            <div>
                <button type="submit" class="button_submit2">Valider l'inscription</button>
                {{ form_end(registrationForm) }}
                <a href="{{ path('admin_accueil') }}">
                    <button class="button_submit2">Retour</button>
                </a>
            </div>

        </form>


             <table>
                 <thead>
                     <tr>
                         <th scope="col">Nom</th>
                         <th scope="col">Prénom</th>
                         <th scope="col">Pseudo</th>
                         <th scope="col">Email</th>
                         <th scope="col">Telephone</th>
                         <th scope="col">Campus</th>
                         <th scope="col">Statut</th>
                         <th scope="col">Administrateur</th>
                         <th scope="col">Action</th>
                     </tr>
                 </thead>
                 <tbody>
                 {% for participant in participants %}
                     <tr>
                         <td>{{ participant.nom }}</td>
                         <td>{{ participant.prenom }}</td>
                         <td>{{ participant.pseudo }}</td>
                         <td>{{ participant.email }}</td>
                         <td>{{ participant.telephone }}</td>
                         <td>{{ participant.campus.nom }}</td>
                         <td>{% if participant.actif == 1 %}
                             Actif
                             {% endif %}
                             {% if participant.actif == 0 %}
                                 Inactif
                             {% endif %}
                         </td>
                         <td>{% if participant.administrateur == 1 %}
                                 X
                             {% endif %}
                         </td>
                         <td>{% if participant.actif == 1 %}
                                     <a href="{{path('admin_statut', {'participant' : participant.id}) }}">Désactiver le compte</a>
                             {% else %}
                                     <a href="{{path('admin_statut', {'participant' : participant.id}) }}">Activer le compte</a>
                             {% endif %}
                         <a href="{{path('admin_supprimer', {'participant' : participant.id}) }}">Supprimer le compte</a>
                         </td>
                     </tr>
                 {% endfor %}
                 </tbody>
             </table>
{% endblock %}

